(()=>{"use strict";chrome.runtime.onInstalled.addListener(function(o){"install"===o.reason&&chrome.storage.local.set({isEnabled:!0,conversationHistory:[]})}),chrome.runtime.onMessage.addListener(function(o,t,e){return"getSettings"===o.action?(chrome.storage.local.get(["isEnabled","conversationHistory"],function(o){e(o)}),!0):"saveConversation"===o.action?(chrome.storage.local.get(["conversationHistory"],function(t){var n=t.conversationHistory||[];n.push(o.conversation),n.length>10&&n.shift(),chrome.storage.local.set({conversationHistory:n},function(){e({success:!0})})}),!0):void 0})})();